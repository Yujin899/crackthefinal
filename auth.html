<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrackTheFinal - Auth</title>
    <link rel="icon" type="image/png" href="./imgs/logo.png">
    <link href="./dist/output.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #f3fbff; }
        .form-container { transition: transform 0.6s ease-in-out, opacity 0.5s ease-in-out; transform: translateX(0%); }
        .form-container.hidden { opacity: 0; pointer-events: none; position: absolute; transform: translateX(100%); }
        .slide-enter-from { transform: translateX(100%); opacity: 0; }
        .slide-enter-to { transform: translateX(0); opacity: 1; }
        .slide-leave-to { transform: translateX(-100%); opacity: 0; }
        #email-suggestions { display: none; }
        
        /* Toast Notification Styles */
        #toast-container { position: fixed; top: 20px; right: 20px; z-index: 1000; display: flex; flex-direction: column; gap: 10px; }
        .toast { padding: 12px 20px; border-radius: 8px; color: white; font-size: 14px; font-weight: 500; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); opacity: 0; transform: translateX(100%); animation: slideIn 0.5s forwards, fadeOut 0.5s 6.5s forwards; }
        .toast-error { background-color: #ef4444; }
        @keyframes slideIn { to { opacity: 1; transform: translateX(0); } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; transform: translateX(100%); } }

        /*
         * NEW: Self-contained spinner animation.
         * This removes the dependency on Tailwind's 'animate-spin'.
        */
        .spinner {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <script type="module">
        import Theme from './js/theme.js';
        Theme.initTheme();
    </script>
    <!-- notifications removed -->
    <script type="module">
        import './js/errorToast.js';
    </script>

    <div class="bg-white rounded-2xl shadow-2xl p-8 sm:p-10 md:p-12 max-w-md w-full relative overflow-hidden">
        <div class="flex flex-col items-center mb-8">
            <div class="w-96 h-96 flex items-center justify-center mb-4">
                <img src="./imgs/logo.png" alt="CrackTheFinal Logo" class="max-w-full h-auto">
            </div>
        </div>

        <div id="auth-forms" class="relative h-[400px]">
            <form id="signInForm" class="form-container absolute top-0 left-0 w-full p-2">
                 <h2 class="text-2xl font-semibold text-charcoal mb-6 text-center">Welcome Back!</h2>
                <div class="mb-4">
                    <label for="signInEmail" class="block text-slate-700 text-sm font-medium mb-2">Email</label>
                    <input type="email" id="signInEmail" class="auth-input w-full p-3 bg-slate-100 border border-transparent rounded-md focus:ring-2 focus:ring-blue-400 transition duration-200" placeholder="your@example.com" required>
                </div>
                <div class="mb-6">
                    <label for="signInPassword" class="block text-slate-700 text-sm font-medium mb-2">Password</label>
                    <input type="password" id="signInPassword" class="auth-input w-full p-3 bg-slate-100 border border-transparent rounded-md focus:ring-2 focus:ring-blue-400 transition duration-200" placeholder="••••••••" required>
                </div>
                <button type="submit" class="w-full h-12 bg-blue-400 text-white p-3 rounded-md font-semibold hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 transition duration-200 flex items-center justify-center">Sign In</button>
                <p class="text-center text-slate-gray text-sm mt-6">
                    Don't have an account? 
                    <button type="button" id="showSignUp" class="text-blue-500 font-semibold hover:underline focus:outline-none">Sign Up</button>
                </p>
            </form>

            <form id="signUpForm" class="form-container absolute top-0 left-0 w-full p-2 hidden">
                <h2 class="text-2xl font-semibold text-charcoal mb-6 text-center">Join CrackTheFinal</h2>
                <div class="mb-4">
                    <label for="signUpName" class="block text-slate-700 text-sm font-medium mb-2">Full Name</label>
                    <input type="text" id="signUpName" class="auth-input w-full p-3 bg-slate-100 border border-transparent rounded-md focus:ring-2 focus:ring-blue-400 transition duration-200" placeholder="John Doe" required>
                </div>
                <div class="mb-4 relative">
                    <label for="signUpEmail" class="block text-slate-700 text-sm font-medium mb-2">Email</label>
                    <input type="email" id="signUpEmail" class="auth-input w-full p-3 bg-slate-100 border border-transparent rounded-md focus:ring-2 focus:ring-blue-400 transition duration-200" placeholder="your@example.com" required autocomplete="off">
                    <div id="email-suggestions" class="absolute z-10 w-full bg-white border border-gray-200 rounded-md mt-1 shadow-lg max-h-40 overflow-y-auto"></div>
                </div>
                <div class="mb-4">
                    <label for="signUpPassword" class="block text-slate-700 text-sm font-medium mb-2">Password</label>
                    <input type="password" id="signUpPassword" class="auth-input w-full p-3 bg-slate-100 border border-transparent rounded-md focus:ring-2 focus:ring-blue-400 transition duration-200" placeholder="••••••••" required>
                </div>
                <button type="submit" class="w-full h-12 bg-blue-400 text-white p-3 rounded-md font-semibold hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 transition duration-200 flex items-center justify-center">Sign Up</button>
                <p class="text-center text-slate-gray text-sm mt-6">
                    Already have an account? 
                    <button type="button" id="showSignIn" class="text-blue-500 font-semibold hover:underline focus:outline-none">Sign In</button>
                </p>
            </form>
        </div>
    </div>

    <div id="toast-container"></div>
    <script type="module" src="./js/auth.js"></script>
</body>
</html>